2005.7.27:
    added user customized output functions (string and char version)
    default: output_string/char
