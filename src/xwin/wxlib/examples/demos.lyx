#LyX 1.1 created this file. For more info see http://www.lyx.org/
\lyxformat 2.16
\textclass article
\language default
\inputencoding latin1
\fontscheme default
\graphics default
\paperfontsize 10
\spacing other 0.70 
\papersize Default
\paperpackage widemarginsa4
\use_geometry 0
\use_amsmath 0
\paperorientation portrait
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\defskip smallskip
\quotes_language english
\quotes_times 2
\papercolumns 1
\papersides 1
\paperpagestyle default

\layout Title

WX Library
\newline 
Examples
\layout Standard


\begin_inset LatexCommand \tableofcontents{}

\end_inset 


\layout Section


\family sans 
\size normal 
demo_appli.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ = default_background := "gray51"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let appli = new WX_appli.t root\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 [Bindings [Key (XK.xk_q,0), (fun () -> exit 0)]]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let hbar = new WX_bar.h appli#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let adx = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let ady = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let viewport = new WX_viewport.t hbar#container adx ady 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [MinHeight 50; MinWidth 50;ExpandX true]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let vscroll = new WX_scrollbar.v hbar#container ady []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let filetext = new WX_text.of_file viewport#container "demo_appli.ml"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Relief ReliefRaised; Foreground "red"; Background "yellow"]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let file_menu = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "New", (fun _ -> Printf.printf "NEW FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Open", (fun _ -> Printf.printf "OPEN FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Save", (fun _ -> Printf.printf "SAVE FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Kill", (fun _ ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let dialog = new WX_dialog.t root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "If you kill the buffer, 
\layout Standard


\family typewriter 
\size small 
last changes will not be saved on disk.
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
Are you sure you want this ?"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "OK" (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "KILL OK"; print_newline ();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#destroy);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "CANCEL" (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "KILL CANCELLED"; print_newline ();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#destroy);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "HELP" (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "HELP ON KILL"; print_newline (););
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Print", (fun _ -> Printf.printf "PRINT FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Quit", (fun _ -> Printf.printf "QUIT FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
let edit_menu = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Undo", (fun _ -> Printf.printf "UNDO EDIT"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Cut", (fun _ -> Printf.printf "CUT EDIT"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Copy", (fun _ -> Printf.printf "COPY EDIT"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Paste", (fun _ -> Printf.printf "PASTE EDIT"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
let help_menu = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "About", (fun _ -> Printf.printf "ABOUT HELP"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Index", (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let dialog = new WX_dialog.t root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Sorry,
\backslash 
nNo help available on this topic" [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "OK" (fun _ -> dialog#destroy);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "INDEX HELP"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; vscroll#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add (filetext#contained);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#container_add (hbar#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_menu "File" file_menu;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_menu "Edit" edit_menu;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_separator;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_menu "Help" help_menu;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~

\layout Section


\family sans 
\size normal 
demo_bar.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let root = new WX_root.from_display "" 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_top.t root None []
\layout Standard


\family typewriter 
\size small 
let vbar = new WX_bar.v top#container []
\layout Standard


\family typewriter 
\size small 
let text = new WX_text.of_string vbar#container 
\layout Standard


\family typewriter 
\size small 
"Your program has raised a stack overflow exception
\layout Standard


\family typewriter 
\size small 
Click OK if you want to continue.
\layout Standard


\family typewriter 
\size small 
Click CANCEL if you want to abort.
\layout Standard


\family typewriter 
\size small 
Click HELP if you need some help.
\layout Standard


\family typewriter 
\size small 
" []
\layout Standard


\family typewriter 
\size small 
let hbar = new WX_bar.h vbar#container [IpadX 5; IpadY 10]
\layout Standard


\family typewriter 
\size small 
let attrs = [IpadX 3; IpadY 3; ExpandX true]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let ok = new WX_button.with_label hbar#container "OK" attrs
\layout Standard


\family typewriter 
\size small 
let cancel = new WX_button.with_label hbar#container "CANCEL" attrs
\layout Standard


\family typewriter 
\size small 
let help = new WX_button.with_label hbar#container "HELP" attrs
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ok#set_action (fun _ -> exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 cancel#set_action (fun _ -> exit 1);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 help#set_action (fun _ -> print_string "HELP"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add vbar#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 vbar#container_add_s [text#contained; hbar#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [ok#contained; cancel#contained; help#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_button.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(* The simplest calculator you have ever seen ...
 *)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Xtypes
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let path = ref [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/icons/";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/wmakerconf/";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/WindowMaker/Icons";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/toolbar";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/pixmaps/";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/afterstep/desktop/buttons/";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/afterstep/desktop/icons/16bpp";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/afterstep/desktop/icons/8bpp";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "/usr/share/afterstep/desktop/icons/common";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let pixmap = ref "xterm.xpm"
\layout Standard


\family typewriter 
\size small 
let command = ref "xterm"
\layout Standard


\family typewriter 
\size small 
let x=\SpecialChar ~
 ref 0
\layout Standard


\family typewriter 
\size small 
let y = ref 0
\layout Standard


\family typewriter 
\size small 
let dx = ref 50
\layout Standard


\family typewriter 
\size small 
let dy = ref 50
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let window = ref noWindow
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let pixmap_from_command = ref false
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 Arg.parse [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-pixmap",Arg.String (fun s -> pixmap := s), "<pixmap>: the pixmap to use";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-command", Arg.String (fun s -> command := s), "<command>: the command
 to launch";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-x", Arg.Int (fun i -> x:= i), "<x>: x coordinate";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-y", Arg.Int (fun i -> y:= i), "<y>: y coordinate";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-I", Arg.String (fun s -> path := s :: !path), "<dir>: add dir to pixmap
 path";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-C", Arg.Set pixmap_from_command, ": use command name for icon";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-dx", Arg.Int (fun i -> dx := i), "<dx> : width";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-dy", Arg.Int (fun i -> dy := i), "<dy> : height";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "-window", Arg.Int (fun w -> window := w), "<w> : window to reparent";\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ] (fun _ -> failwith "No anonymous argument") 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 "<gwml_button>: a simple utility to display an icon, and launch a command
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
when clicked."
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if !pixmap_from_command then pixmap := !command ^ ".xpm"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let g = root#geometry
\layout Standard


\family typewriter 
\size small 
let x = if !x < 0 then g.width - !x\SpecialChar ~
 else !x
\layout Standard


\family typewriter 
\size small 
let y = if !y < 0 then g.height - !y\SpecialChar ~
 else !y
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let dx = if !dx > g.width then g.width else !dx
\layout Standard


\family typewriter 
\size small 
let dy = if !dy > g.height then g.height else !dy
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let x = if x + dx > g.width then g.width - dx else x
\layout Standard


\family typewriter 
\size small 
let y = if y + dy > g.height then g.height - dy else y
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root [Position (x,y)] 
\layout Standard


\family typewriter 
\size small 
let button = new WX_button.t top#container [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 MinWidth 50; MinHeight 50;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 MaxWidth dx; MaxHeight dy;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]
\layout Standard


\family typewriter 
\size small 
let pixmap =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if !window == noWindow then
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let pixmap = Filepath.find_in_path !path !pixmap in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let pixmap = new WX_pixmap.t button#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (pixmap, FromFile pixmap) [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 pixmap#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 else
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let parent = new WX_parent.t button#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 parent#container_add !window;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 parent#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#set_action (fun _ ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 match Unix.fork () with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 0 -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ignore (Unix.setsid ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ignore (Unix.setgid (Unix.getpid ()));
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let args = [| "/bin/sh"; "-c"; !command |] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Unix.execvp args.(0) args
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | _ -> ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#container_add pixmap;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add button#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#setWM_SIZE_HINTS (let sh = Icccm.newWM_SIZE_HINTS () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 sh.user_position <- true; sh);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#setWM_CLASS "GwML" "GwML";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_calc.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(* The simplest calculator you have ever seen ...
 *)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Xtypes
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root []
\layout Standard


\family typewriter 
\size small 
let vbar = new WX_bar.v top#container []
\layout Standard


\family typewriter 
\size small 
let ledit = new WX_label.t vbar#container "0" [ExpandX true]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let keys = [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [ "M+"; "M-"; "CM"; "RM"];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [ "7";"8";"9";"*"];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [ "4";"5";"6";"/"];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [ "1";"2";"3";"-"];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [ "0";".";"+/-";"+"];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [ "ON"; "OFF";"INV";"="];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let op = ref "+"
\layout Standard


\family typewriter 
\size small 
let arg = ref 0.0
\layout Standard


\family typewriter 
\size small 
let value = ref 0.0
\layout Standard


\family typewriter 
\size small 
let dot = ref 0
\layout Standard


\family typewriter 
\size small 
let mem = ref 0.0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let set v = value := v; dot := 0; ledit#set_string (string_of_float !value)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let do_op () =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 match !op with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "+" -> set (!arg +.
 !value)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "-" -> set (!arg -.
 !value)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "*" -> set (!arg *.
 !value)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "/" -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 set (if !value = 0.
 then 0.
 else !arg /.
 !value)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | _ -> assert false
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let rec decimal n =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if n > 0 then 0.1 *.
 (decimal (n-1)) else 1.
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let action name () =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 match name with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "OFF" -> exit 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "ON" -> set 0.; arg := 0.; op := "+"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "M+" -> mem := !mem +.
 !value
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "M-" -> mem := !mem -.
 !value
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "CM" -> mem := 0.
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "RM" -> set !mem
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "*" | "+" | "-" | "/" -> do_op (); arg := !value; op := name; set 0.
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "=" -> do_op ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "+/-" -> set (-.
 !value)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "INV" -> if !value = 0.0 then set 0.
 else set (1.
 /.
 !value)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "." -> dot := 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let x = int_of_string name in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let x = float_of_int x in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if !dot > 0 then (set (!value +.
 x *.
 (decimal !dot)); incr dot)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 else set (!value *.
 10.
 +.
 x)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | _ -> ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add vbar#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#configure [Bindings [KeyPress, (fun _ ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 action (if !key_sym = XK.xk_Return then "=" else
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 !key_string) ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 )]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 vbar#container_add ledit#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 List.iter (fun list ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let hbar = new WX_bar.h vbar#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 List.iter (fun name ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let button = new WX_button.t hbar#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [MinWidth 30; MinHeight 30] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#set_action (action name);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_label.t button#container name [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label#set_justification Center;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#container_add label#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 hbar#container_add button#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) list;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 vbar#container_add hbar#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ) keys;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ledit#set_justification Right;\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_complex.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let appli = new WX_appli.t root\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Bindings [Key (XK.xk_q,0), (fun () -> exit 0)]]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let attributes = [Relief ReliefRaised; Foreground "red"; Background "yellow"]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let vbar = new WX_bar.v appli#container []
\layout Standard


\family typewriter 
\size small 
let adj = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let panel = new WX_panel.t Vertical vbar#container adj []
\layout Standard


\family typewriter 
\size small 
let scale = new WX_scale.h vbar#container adj [Background "black"]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let cursors = [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_x_cursor",XC.xc_x_cursor;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_arrow",XC.xc_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_based_arrow_down",XC.xc_based_arrow_down;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_based_arrow_up",XC.xc_based_arrow_up;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_boat",XC.xc_boat;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bogosity",XC.xc_bogosity;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bottom_left_corner",XC.xc_bottom_left_corner;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bottom_right_corner",XC.xc_bottom_right_corner;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bottom_side",XC.xc_bottom_side;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bottom_tee",XC.xc_bottom_tee;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_box_spiral",XC.xc_box_spiral;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_center_ptr",XC.xc_center_ptr;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_circle",XC.xc_circle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_clock",XC.xc_clock;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_coffee_mug",XC.xc_coffee_mug;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_cross",XC.xc_cross;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_cross_reverse",XC.xc_cross_reverse;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_crosshair",XC.xc_crosshair;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_diamond_cross",XC.xc_diamond_cross;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_dot",XC.xc_dot;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_dotbox",XC.xc_dotbox;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_double_arrow",XC.xc_double_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_draft_large",XC.xc_draft_large;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_draft_small",XC.xc_draft_small;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_draped_box",XC.xc_draped_box;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_exchange",XC.xc_exchange;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_fleur",XC.xc_fleur;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_gobbler",XC.xc_gobbler;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_gumby",XC.xc_gumby;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_hand1",XC.xc_hand1;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_hand2",XC.xc_hand2;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_heart",XC.xc_heart;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_icon",XC.xc_icon;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_iron_cross",XC.xc_iron_cross;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_left_ptr",XC.xc_left_ptr;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_left_side",XC.xc_left_side;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_left_tee",XC.xc_left_tee;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_leftbutton",XC.xc_leftbutton;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_ll_angle",XC.xc_ll_angle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_lr_angle",XC.xc_lr_angle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_man",XC.xc_man;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_middlebutton",XC.xc_middlebutton;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_mouse",XC.xc_mouse;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_pencil",XC.xc_pencil;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_pirate",XC.xc_pirate;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_plus",XC.xc_plus;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_question_arrow",XC.xc_question_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_right_ptr",XC.xc_right_ptr;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_right_side",XC.xc_right_side;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_right_tee",XC.xc_right_tee;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_rightbutton",XC.xc_rightbutton;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_rtl_logo",XC.xc_rtl_logo;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sailboat",XC.xc_sailboat;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_down_arrow",XC.xc_sb_down_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_h_double_arrow",XC.xc_sb_h_double_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_left_arrow",XC.xc_sb_left_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_right_arrow",XC.xc_sb_right_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_up_arrow",XC.xc_sb_up_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_v_double_arrow",XC.xc_sb_v_double_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_shuttle",XC.xc_shuttle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sizing",XC.xc_sizing;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_spider",XC.xc_spider;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_spraycan",XC.xc_spraycan;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_star",XC.xc_star;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_target",XC.xc_target;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_tcross",XC.xc_tcross;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_left_arrow",XC.xc_top_left_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_left_corner",XC.xc_top_left_corner;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_right_corner",XC.xc_top_right_corner;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_side",XC.xc_top_side;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_tee",XC.xc_top_tee;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_trek",XC.xc_trek;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_ul_angle",XC.xc_ul_angle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_umbrella",XC.xc_umbrella;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_ur_angle",XC.xc_ur_angle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_watch",XC.xc_watch;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_xterm",XC.xc_xterm]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let cursors_make top =\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let hbar = new WX_bar.h top#container [MaxHeight 400] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let adx = new WX_adjust.t () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let ady = new WX_adjust.t () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let viewport = new WX_viewport.t hbar#container adx ady [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let scrollbar = new WX_scrollbar.v hbar#container ady [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let vbar = new WX_bar.v viewport#container [] in\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; scrollbar#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add vbar#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 List.iter (fun (name,curs) -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_label.t vbar#container name 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Cursor (FontCursor curs);Relief ReliefRaised; ExpandX true] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label#configure [Bindings
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [EnterWindow, (fun () -> label#inverse);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 LeaveWindow, (fun () -> label#normal)]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 vbar#container_add label#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ) cursors;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#configure [Bindings [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Prior,0),(fun _ -> ady#page_up);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Next,0),(fun _ -> ady#page_down);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_q,0),(fun _ -> exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#configure [MinHeight 500; MinWidth 100];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let viewtext parent constructor =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let hbar = new WX_bar.h parent#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let adx = new WX_adjust.t () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let ady = new WX_adjust.t () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let viewport = new WX_viewport.t hbar#container adx ady 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [MinHeight 50; MinWidth 50;ExpandX true] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let vscroll = new WX_scrollbar.v hbar#container ady [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let text = constructor viewport in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; vscroll#contained];\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add (text#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let menu_desc = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "File", (fun _ -> Printf.printf "FILE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Save", (fun _ -> Printf.printf "SAVE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Print", (fun _ -> Printf.printf "PRINT ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Quit", (fun _ -> Printf.printf "QUIT ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Delete", (fun _ -> Printf.printf "DELETE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "New", (fun _ -> Printf.printf "NeW ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
let menu = new WX_popup.t root menu_desc
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let text1 = viewtext panel (fun parent -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let hbar = new WX_bar.h parent#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let text = new WX_text.with_widgets hbar#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [||] attributes in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let pixmap = new WX_pixmap.t text#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ("xv",FromFile "/usr/share/icons/xv.xpm") [Relief ReliefRidge]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let button = new WX_button.t text#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let compteur = new WX_label.t text#container "" [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let pixmap = new WX_pixmap.t button#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ("xv",FromFile "/usr/share/icons/xv.xpm") [Relief ReliefRidge]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let selector = new WX_selector.t text#container root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 { WX_selector.labels = [| "France";"Angleterre";"Allemagne" |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.valides = [||];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.current = 0;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.change_hook = []; } []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let ledit = new WX_ledit.t text#container "Modifier ici" [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let simple_text = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Bonjour") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Je suis un peu compliqu, non ?") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Pourtant, il suffit d'un peu") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "d'habitude pour arriver ") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "m'utiliser correctement") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([],"Une pixmap:");WX_text.Widget [|button#contained|]
 |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Ici, en plus, je n'utilise pas") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "toutes mes capacits.") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Un selecteur:"); WX_text.Widget [|selector#contained|
]|];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Un label editable:"); WX_text.Widget [|ledit#containe
d|]|];\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Un compteur:"); WX_text.Widget [|compteur#contained|]
|];\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#set_action (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let (x,y) = button#root_coordinates in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 menu#popup x y (Some !button_event)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#container_add pixmap#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#set_wait_release false;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 text#set_widgets simple_text;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let cur = cursors_make hbar in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let vbar = new WX_bar.v hbar#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let adj = new WX_adjust.t () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 adj#add_subject (fun _ ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let v = adj#get_pos WX_adjust.v_total in\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let s = string_of_int v in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 compteur#set_string s
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Array.iteri (fun i s ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let button = new WX_radiobutton.t vbar#container adj i [ExpandX true] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_label.t button#container s [ExpandX true] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#container_add label#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 vbar#container_add button#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#select
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) [| "First"; "Second"; "Third";"Forth";"Fifth";"Sixth" |];\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 hbar#container_add_s [text#contained; cur#contained; vbar#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 hbar
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 )
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let text2 = viewtext panel (fun parent -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 new WX_text.of_file parent#container 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "demo_complex.ml" attributes)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let file_menu = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "New", (fun _ -> Printf.printf "NEW FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Open", (fun _ -> Printf.printf "OPEN FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Save", (fun _ -> Printf.printf "SAVE FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Kill", (fun _ ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let dialog = new WX_dialog.t root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "If you kill the buffer, 
\layout Standard


\family typewriter 
\size small 
last changes will not be saved on disk.
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
Are you sure you want this ?"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "OK" (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "KILL OK"; print_newline ();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#destroy);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "CANCEL" (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "KILL CANCELLED"; print_newline ();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#destroy);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "HELP" (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "HELP ON KILL"; print_newline (););
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Print", (fun _ -> Printf.printf "PRINT FILE"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Quit", (fun _ -> exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
let edit_menu = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Undo", (fun _ -> Printf.printf "UNDO EDIT"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Cut", (fun _ -> Printf.printf "CUT EDIT"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Copy", (fun _ -> Printf.printf "COPY EDIT"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Paste", (fun _ -> Printf.printf "PASTE EDIT"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
let help_menu = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "About", (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let dialog = new WX_dialog.t root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Some help on this demo:
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 The top frame is a WX_appli.t object,
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 which automatically creates the top bar of menus, and the
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 vertical bar below.
 This bar contains two widgets:
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 - a WX_panel.t, which is divided in two parts
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 - a WX_scale.t (in black) which controls the sizes of the
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 two parts of the panel (use it like a scrollbar).
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 In the panel, the bottom side contains a text, loaded
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 from a file with WX_text.file, and its scrollbar, of
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 class wX_scrollbar.v.
 Above an horizontal bar contains
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 a text with active widgets (a WX_pixmap.t in a WX_button.t)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 and a WX_selector.t, and a vertical bar displaying all
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 sorts of X predefined cursors (you can use its scrollbar,
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 or use Prior and Next keys).
 To be enable displaying only
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 parts of some windows (in combinaison with a scrollbar for
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 example), the widgets are included in WX_viewport.t.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Finally, the File/Kill menu displays a simple WX_dialog.t 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 box with three choices.
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 " [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "OK" (fun _ -> dialog#destroy);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "ABOUT HELP"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Index", (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let dialog = new WX_dialog.t root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Sorry,
\backslash 
nNo help available on this topic" [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "OK" (fun _ -> dialog#destroy);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "INDEX HELP"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let sep = new WX_panel.separator panel adj []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 panel#set_first text1;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 panel#set_second text2;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 adj#set_pos 1 2;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 panel#set_step 5;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 vbar#container_add_s [panel#contained; scale#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#container_add (vbar#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_menu "File" file_menu;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_menu "Edit" edit_menu;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_separator;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_menu "Help" help_menu;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~

\layout Section


\family sans 
\size normal 
demo_cursors.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 xlib for Ocaml\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1998 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let cursors = [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_x_cursor",XC.xc_x_cursor;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_arrow",XC.xc_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_based_arrow_down",XC.xc_based_arrow_down;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_based_arrow_up",XC.xc_based_arrow_up;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_boat",XC.xc_boat;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bogosity",XC.xc_bogosity;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bottom_left_corner",XC.xc_bottom_left_corner;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bottom_right_corner",XC.xc_bottom_right_corner;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bottom_side",XC.xc_bottom_side;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_bottom_tee",XC.xc_bottom_tee;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_box_spiral",XC.xc_box_spiral;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_center_ptr",XC.xc_center_ptr;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_circle",XC.xc_circle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_clock",XC.xc_clock;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_coffee_mug",XC.xc_coffee_mug;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_cross",XC.xc_cross;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_cross_reverse",XC.xc_cross_reverse;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_crosshair",XC.xc_crosshair;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_diamond_cross",XC.xc_diamond_cross;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_dot",XC.xc_dot;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_dotbox",XC.xc_dotbox;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_double_arrow",XC.xc_double_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_draft_large",XC.xc_draft_large;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_draft_small",XC.xc_draft_small;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_draped_box",XC.xc_draped_box;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_exchange",XC.xc_exchange;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_fleur",XC.xc_fleur;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_gobbler",XC.xc_gobbler;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_gumby",XC.xc_gumby;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_hand1",XC.xc_hand1;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_hand2",XC.xc_hand2;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_heart",XC.xc_heart;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_icon",XC.xc_icon;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_iron_cross",XC.xc_iron_cross;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_left_ptr",XC.xc_left_ptr;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_left_side",XC.xc_left_side;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_left_tee",XC.xc_left_tee;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_leftbutton",XC.xc_leftbutton;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_ll_angle",XC.xc_ll_angle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_lr_angle",XC.xc_lr_angle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_man",XC.xc_man;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_middlebutton",XC.xc_middlebutton;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_mouse",XC.xc_mouse;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_pencil",XC.xc_pencil;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_pirate",XC.xc_pirate;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_plus",XC.xc_plus;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_question_arrow",XC.xc_question_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_right_ptr",XC.xc_right_ptr;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_right_side",XC.xc_right_side;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_right_tee",XC.xc_right_tee;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_rightbutton",XC.xc_rightbutton;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_rtl_logo",XC.xc_rtl_logo;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sailboat",XC.xc_sailboat;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_down_arrow",XC.xc_sb_down_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_h_double_arrow",XC.xc_sb_h_double_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_left_arrow",XC.xc_sb_left_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_right_arrow",XC.xc_sb_right_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_up_arrow",XC.xc_sb_up_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sb_v_double_arrow",XC.xc_sb_v_double_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_shuttle",XC.xc_shuttle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_sizing",XC.xc_sizing;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_spider",XC.xc_spider;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_spraycan",XC.xc_spraycan;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_star",XC.xc_star;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_target",XC.xc_target;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_tcross",XC.xc_tcross;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_left_arrow",XC.xc_top_left_arrow;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_left_corner",XC.xc_top_left_corner;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_right_corner",XC.xc_top_right_corner;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_side",XC.xc_top_side;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_top_tee",XC.xc_top_tee;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_trek",XC.xc_trek;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_ul_angle",XC.xc_ul_angle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_umbrella",XC.xc_umbrella;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_ur_angle",XC.xc_ur_angle;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_watch",XC.xc_watch;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "xc_xterm",XC.xc_xterm]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ = default_background := "gray51"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let top = new WX_top.t root None [MaxWidth 500; MaxHeight 500]\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let hbar = new WX_bar.h top#container []
\layout Standard


\family typewriter 
\size small 
let adx = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let ady = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let viewport = new WX_viewport.t hbar#container adx ady []
\layout Standard


\family typewriter 
\size small 
let scrollbar = new WX_scrollbar.v hbar#container ady []
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; scrollbar#contained]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let vbar = new WX_bar.v viewport#container []
\layout Standard


\family typewriter 
\size small 
let _ = viewport#container_add vbar#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 List.iter (fun (name,curs) -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_label.t vbar#container name 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Cursor (FontCursor curs);Relief ReliefRaised; ExpandX true] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label#configure [Bindings
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [EnterWindow, (fun () -> label#inverse);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 LeaveWindow, (fun () -> label#normal)]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 vbar#container_add label#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ) cursors
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#configure [Bindings [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Prior,0),(fun _ -> ady#page_up);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Next,0),(fun _ -> ady#page_down);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_q,0),(fun _ -> exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add (hbar#contained);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#configure [MinHeight 500; MinWidth 100];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Section


\family sans 
\size normal 
demo_file.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ = default_background := "gray51"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let top = new WX_top.t root None [IpadY 20;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Bindings [Key (XK.xk_q,0), (fun () -> exit 0)]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let hbar = new WX_bar.h top#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let adx = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let ady = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let viewport = new WX_viewport.t hbar#container adx ady 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [MinHeight 50; MinWidth 50;ExpandX true]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let vscroll = new WX_scrollbar.v hbar#container ady []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let text = new WX_text.with_widgets viewport#container [||] 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Relief ReliefRaised; Foreground "red"; Background "yellow"]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let filetext = new WX_text.of_file viewport#container "demo_file.ml"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Relief ReliefRaised; Foreground "red"; Background "yellow"]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let button = new WX_button.t text#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let pixmap = new WX_pixmap.t button#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ("xv",FromFile "/usr/share/icons/xv.xpm") [Relief ReliefRidge]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let selector = new WX_selector.t text#container root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 { WX_selector.labels = [| "France";"Angleterre";"Allemagne" |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.valides = [||];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.current = 0;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.change_hook = []; } []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let simple_text = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Bonjour") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Je suis un peu compliqu, non ?") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Pourtant, il suffit d'un peu") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "d'habitude pour arriver ") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "m'utiliser correctement") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([],"Une pixmap:");WX_text.Widget [|button#contained|]
 |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Ici, en plus, je n'utilise pas") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "toutes mes capacits.") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Un selecteur:"); WX_text.Widget [|selector#contained|
]|]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let menu_desc = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "File", (fun _ -> Printf.printf "FILE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Save", (fun _ -> Printf.printf "SAVE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Print", (fun _ -> Printf.printf "PRINT ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Quit", (fun _ -> Printf.printf "QUIT ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Delete", (fun _ -> Printf.printf "DELETE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "New", (fun _ -> Printf.printf "NeW ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
let menu = new WX_popup.t root menu_desc
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#set_action (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let (x,y) = button#root_coordinates in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 menu#popup x y (Some !button_event)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#container_add pixmap#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#set_wait_release false;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 text#set_widgets simple_text;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; vscroll#contained];
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 viewport#container_add (text#contained); *)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add (filetext#contained);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add (hbar#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~

\layout Section


\family sans 
\size normal 
demo_filesel.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
open WX_filesel
\layout Standard


\family typewriter 
\size small 
let info = {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 filter = "/*";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 current_selection= "/";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 predicat = (fun _ -> true);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 action = (fun s -> Printf.printf "Select %s" s; print_newline ();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 cancel = (fun _ -> exit 1);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let filesel = new WX_filesel.t root info []
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 filesel#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~

\layout Section


\family sans 
\size normal 
demo_graphics.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ = default_background := "gray51"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let appli = new WX_appli.t root\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 [Bindings [Key (XK.xk_q,0), (fun () -> exit 0)]]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let help_menu = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "About", (fun _ -> Printf.printf "ABOUT HELP"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Index", (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let dialog = new WX_dialog.t root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Sorry,
\backslash 
nNo help available on this topic" [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#add_button "OK" (fun _ -> dialog#destroy);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dialog#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "INDEX HELP"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 (* This replace the open_graph call.
 *)
\layout Standard


\family typewriter 
\size small 
let graphics = new WX_Graphics.t appli#container [] 600 400
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#container_add (graphics#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#add_menu "Help" help_menu;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 appli#show
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
open XGraphics (* instead of Graphics *)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let redraw x y =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 clear_graph();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 set_color blue;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 fill_poly [|100,100; 100,200; 200,200; 200,100; 100,100 |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 set_color red;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 fill_poly [|x,y; x,y+100; x+100,y+100; x+100,y; x,y |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 update()
\layout Standard


\family typewriter 
\size small 
;;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
begin
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 set_update_style FlushAll;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let _ = wait_next_event[Button_down] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 redraw 0 0;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 while 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let ev = wait_next_event[Button_up;Button_down;Mouse_motion;Key_pressed]
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if ev.button then redraw ev.mouse_x ev.mouse_y;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ev.key <> 'q'
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 do () done;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 close_graph()
\layout Standard


\family typewriter 
\size small 
end;;
\layout Section


\family sans 
\size normal 
demo_hello.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let root = new WX_root.from_display "" 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root []
\layout Standard


\family typewriter 
\size small 
let label = new WX_label.t top#container "Hello World" []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add label#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_hello2.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Xtypes
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let root = new WX_root.from_display "" 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root []
\layout Standard


\family typewriter 
\size small 
let label = new WX_button.with_label top#container "Hello World" []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add label#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 label#set_action (fun _ -> exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#configure [Bindings [Key(XK.xk_q, anyModifier), (fun _ -> exit 0)]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop () 
\layout Section


\family sans 
\size normal 
demo_mixer.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
/***********************************************************************/
\layout Standard


\family typewriter 
\size small 
/*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 */
\layout Standard


\family typewriter 
\size small 
/*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 */
\layout Standard


\family typewriter 
\size small 
/*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 */
\layout Standard


\family typewriter 
\size small 
/*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 */
\layout Standard


\family typewriter 
\size small 
/*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 */
\layout Standard


\family typewriter 
\size small 
/*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 */
\layout Standard


\family typewriter 
\size small 
/*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 */
\layout Standard


\family typewriter 
\size small 
/*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 */
\layout Standard


\family typewriter 
\size small 
/***********************************************************************/
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
#include <caml/memory.h>
\layout Standard


\family typewriter 
\size small 
#include <caml/mlvalues.h>
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
#ifdef __linux__
\layout Standard


\family typewriter 
\size small 
#include <stdio.h>
\layout Standard


\family typewriter 
\size small 
#include <sys/ioctl.h>
\layout Standard


\family typewriter 
\size small 
#include <linux/soundcard.h>
\layout Standard


\family typewriter 
\size small 
#else
\layout Standard


\family typewriter 
\size small 
#define SOUND_MIXER_NRDEVICES 1
\layout Standard


\family typewriter 
\size small 
#define SOUND_DEVICE_NAMES { "No device" }
\layout Standard


\family typewriter 
\size small 
#define SOUND_DEVICE_LABELS { "No device" }
\layout Standard


\family typewriter 
\size small 
#endif
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
value mixer_init(value mixer)
\layout Standard


\family typewriter 
\size small 
{
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
#ifdef __linux__
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int fd = Int_val(mixer);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int dev_mask, rec_mask, stereo_mask;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int i,n=0;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int devices[SOUND_MIXER_NRDEVICES];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 value res;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if (ioctl (fd, SOUND_MIXER_READ_DEVMASK, &dev_mask) == -1) {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 failwith("Mixer: cannot read devmask");\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 rec_mask = 0;\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if (ioctl (fd, SOUND_MIXER_READ_RECMASK, &rec_mask) == -1) {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 failwith("Mixer: cannot read recmask");\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 stereo_mask = 0;\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if (ioctl (fd, SOUND_MIXER_READ_STEREODEVS, &stereo_mask) == -1) {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 failwith("Mixer: cannot read stereo");\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 n=0;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 for (i = 0; i < SOUND_MIXER_NRDEVICES; i++)\SpecialChar ~
 {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if ((1 << i) & dev_mask) {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 devices[n++] = i;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 res = alloc(3*n,0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 for(i=0;i<n;i++){
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Field(res,3*i) = Val_int(devices[i]);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Field(res,3*i+1) = Val_int(!!((1 << devices[i]) & stereo_mask));
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Field(res,3*i+2) = Val_int(!!(((1 << devices[i]) & rec_mask)));
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 return res;
\layout Standard


\family typewriter 
\size small 
#else
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 return Atom(0);
\layout Standard


\family typewriter 
\size small 
#endif
\layout Standard


\family typewriter 
\size small 
}
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
value mixer_label(value dev)
\layout Standard


\family typewriter 
\size small 
{
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 char *labels[SOUND_MIXER_NRDEVICES] = SOUND_DEVICE_LABELS;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 char *names[SOUND_MIXER_NRDEVICES] = SOUND_DEVICE_NAMES;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 value s1,s2,res;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 value i = Int_val(dev);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 s1 = copy_string(labels[i]);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 Begin_root(s1);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 s2 = copy_string(names[i]);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 Begin_root(s2);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 res = alloc(2,0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 initialize(&Field(res,0),s1);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 initialize(&Field(res,1),s2);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 End_roots();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 End_roots();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 return res;
\layout Standard


\family typewriter 
\size small 
}
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
value get_volume (value mixer, value dev) {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int fd = Int_val(mixer);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int i = Int_val(dev);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int level=0;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
#ifdef __linux__\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ioctl (fd, MIXER_READ(i), &level);
\layout Standard


\family typewriter 
\size small 
#endif
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 return Val_int(level);
\layout Standard


\family typewriter 
\size small 
}
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
value set_volume(value mixer, value dev, value init){
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int fd = Int_val(mixer);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int i = Int_val(dev);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int level = Int_val(init);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
#ifdef __linux__
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ioctl (fd, MIXER_WRITE(i), &level);
\layout Standard


\family typewriter 
\size small 
#endif
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 return Val_int(level);
\layout Standard


\family typewriter 
\size small 
}
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
value is_recording(value mixer, value dev){
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int fd = Int_val(mixer);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int i = Int_val(dev);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int source=0;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
#ifdef __linux__\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ioctl (fd, SOUND_MIXER_READ_RECSRC, &source);
\layout Standard


\family typewriter 
\size small 
#endif
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 return Val_int( (((1 << i) & source)>>i));
\layout Standard


\family typewriter 
\size small 
}
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
value set_recording (value mixer, value dev, value bool) {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int fd = Int_val(mixer);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int i = Int_val(dev);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 int source;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
#ifdef __linux__\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ioctl (fd, SOUND_MIXER_READ_RECSRC, &source);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if (Int_val(bool)) { 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 source = source | (1 << i); 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 } else { 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 source = source & ~(1 << i); 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ioctl (fd, SOUND_MIXER_WRITE_RECSRC, &source);
\layout Standard


\family typewriter 
\size small 
#endif
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 return Val_unit;
\layout Standard


\family typewriter 
\size small 
}
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Section


\family sans 
\size normal 
demo_notebook.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Xtypes
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root [MinWidth 10; MinHeight 10; MaxWidth 600; MaxHeight
 700]
\layout Standard


\family typewriter 
\size small 
let book = new WX_notebook.v top#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let files = [ "demo_tree.ml"; "demo_table.ml"; "demo_graphics.ml";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "demo_filesel.ml"; "demo_calc.ml";"demo_file.ml";"demo_notebook.ml"]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 book#container_add_s (List.map (fun name -> name,
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (new WX_text.of_file book#container name [])#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) files);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add book#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_panel.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ = if Array.length Sys.argv <> 3 then 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 failwith "Usage: demo_panel file1 file2"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let filename1 = Sys.argv.(1)
\layout Standard


\family typewriter 
\size small 
let filename2 = Sys.argv.(2)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let root = new WX_root.from_display "" 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Bindings [Key (XK.xk_q,0), (fun () -> exit 0)]]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let vbar = new WX_bar.v top#container []
\layout Standard


\family typewriter 
\size small 
let adj = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let panel = new WX_panel.t Vertical vbar#container adj []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let viewtext parent filename =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let hbar = new WX_bar.h parent#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let adx = new WX_adjust.t () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let ady = new WX_adjust.t () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let viewport = new WX_viewport.t hbar#container adx ady 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [MinHeight 50; MinWidth 50;ExpandX true] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let vscroll = new WX_scrollbar.v hbar#container ady [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let text = new WX_text.of_file viewport#container filename [Background "black";
 ExpandX true] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; vscroll#contained];\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add (text#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let text1 = viewtext panel filename1
\layout Standard


\family typewriter 
\size small 
let text2 = viewtext panel filename2
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let sep = new WX_panel.separator panel adj []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 panel#set_first text1;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 panel#set_second text2;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 adj#set_pos 1 2; (* initial position is half panel for each window *)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 panel#set_step 5;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 vbar#container_add panel#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add (vbar#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~

\layout Section


\family sans 
\size normal 
demo_table.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WXlib\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Xtypes
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root [MinWidth 300; MinHeight 300]
\layout Standard


\family typewriter 
\size small 
let table = new WX_table.t top#container [] 10 10 true
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let list = [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 1,1,2,3,"yellow"; 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 2,5,2,2,"red";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 5,2,2,2,"blue";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 6,6,3,3,"pink";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 List.iter (fun (x,y,dx,dy,color) ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let button = new WX_button.t table#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let obj = new WX_object.t button#container [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Background color; MinWidth (dx * 50); MinHeight (dy * 50)] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#set_action (fun _ -> Printf.printf "Select: %s" color;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#container_add obj#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 table#container_add button#contained x y dx dy;\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ) list;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add table#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_test.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ = default_background := "gray51"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let top = new WX_top.t root None [IpadY 20;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Bindings [Key (XK.xk_q,0), (fun () -> exit 0)]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let vbar = new WX_bar.v top#container [IpadX\SpecialChar ~
 10; PadX 10;]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let label1 = new WX_label.t vbar#container "Bonjour" [Relief ReliefRaised]
\layout Standard


\family typewriter 
\size small 
let pixmap = new WX_pixmap.t vbar#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ("xv",FromFile "/usr/share/icons/xv.xpm") [Relief ReliefRidge]
\layout Standard


\family typewriter 
\size small 
let label2 = new WX_label.t vbar#container "Encore ?"\SpecialChar ~
 [Relief ReliefSunken]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let hbar = new WX_bar.h vbar#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let adx = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let ady = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let viewport = new WX_viewport.t hbar#container adx ady 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [MaxHeight 50; ExpandX true]
\layout Standard


\family typewriter 
\size small 
let vbar_0 = new WX_bar.v viewport#container []
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 List.iter (fun string ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_label.t vbar_0#container string [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 vbar_0#container_add label#contained) 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ["label_1";"label_2";"label_3";"label_4";"label_5";"label_6";"label_7";"label_8
"; "label_9"; "label_10"; "label_11"]\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let vscroll = new WX_scrollbar.v hbar#container ady []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 label1#configure [Bindings 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [EnterWindow, (fun () -> label1#inverse);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 LeaveWindow, (fun () -> label1#normal)]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add vbar_0#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained;\SpecialChar ~
 vscroll#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 vbar#container_add_s [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label1#contained;\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 pixmap#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label2#contained;\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 hbar#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add (vbar#contained);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~

\layout Section


\family sans 
\size normal 
demo_tex.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Xtypes
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
open WX_tree
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let path = ref [ ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root [MinWidth 10; MinHeight 10]
\layout Standard


\family typewriter 
\size small 
let tree = new WX_tree.t top#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let regexp = Str.regexp "
\backslash 
(
\backslash 

\backslash 
input
\backslash 
|
\backslash 

\backslash 
section
\backslash 
|
\backslash 

\backslash 
subsection
\backslash 
|
\backslash 

\backslash 
subsubsection
\backslash 
){
\backslash 
([^}]+
\backslash 
)}"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let rec iter_load filename container =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let label = new WX_button.with_label container filename [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 try
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let filename = try
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Filepath.find_in_path !path filename
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 with Not_found -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Filepath.find_in_path !path (filename^".tex")
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label#set_action (fun () ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "Filename <%s> at %d" filename 0;print_newline ();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let inc = open_in filename in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let s = Utils.read_string inc in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 close_in inc;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let rec iter_search pos list = 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 try
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let newpos = Str.search_forward regexp s pos in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let keyword = Str.matched_group 1 s in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 iter_search (newpos+String.length keyword) (
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (keyword,Str.matched_group 2 s,newpos)::list)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 _ -> List.rev list
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let list =\SpecialChar ~
 iter_search 0 [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if list = [] then leaf 0 label#contained else
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let tree2 = new WX_tree.t container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 tree2#set_desc (List.map (
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 fun (keyword,name,pos) -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 match keyword with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "input" -> iter_load name tree2#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | _ ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let (offset,prefix) =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 match keyword with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "section" -> 0, "s:"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | "subsection" -> 10, "ss:"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | "subsubsection" -> 20, "sss:"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | _ -> 30,""
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 leaf offset (
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let button = new WX_button.with_label tree2#container (
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 prefix^name) [] 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#set_action (fun () ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "Filename %s at %d" filename pos;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 print_newline ();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 )
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) list);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 branch true label#contained tree2#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 leaf 0 label#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 path := [Filename.dirname Sys.argv.(1)];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 tree#set_desc [iter_load Sys.argv.(1) tree#container];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add tree#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_text.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let top = new WX_top.t root None [IpadY 20;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Bindings [Key (XK.xk_q,0), (fun () -> exit 0)]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let hbar = new WX_bar.h top#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let adx = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let ady = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let viewport = new WX_viewport.t hbar#container adx ady 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [MinHeight 50; MinWidth 50;ExpandX true; ExpandY true]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let vscroll = new WX_scrollbar.v hbar#container ady []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let text = new WX_text.with_widgets viewport#container [||] 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Relief ReliefRaised; Foreground "red"; Background "yellow"; 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ExpandX true; ExpandY true
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let button = new WX_button.t text#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let pixmap = new WX_pixmap.t button#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ("xv",FromFile "/usr/share/icons/xv.xpm") [Relief ReliefRidge]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let selector = new WX_selector.t text#container root
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 { WX_selector.labels = [| "France";"Angleterre";"Allemagne" |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.valides = [||];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.current = 0;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_selector.change_hook = []; } []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let simple_text = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "Hello") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_text.Foreground (top#color_make "green" true);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WX_text.Font (top#font_make "10x20" true);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ], "This window contains a text.") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "But, in the text, you can insert") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "other widgets, with bindings.") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "For example,") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([],"Here is a pixmap:");WX_text.Widget [|button#contained|
] |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "And here is another widget:") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "a selector:"); WX_text.Widget [|selector#contained|]
 |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [| WX_text.RealString ([], "and I'm not completely implemented yet ...") |];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let menu_desc = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "File", (fun _ -> Printf.printf "FILE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Save", (fun _ -> Printf.printf "SAVE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Print", (fun _ -> Printf.printf "PRINT ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Quit", (fun _ -> Printf.printf "QUIT ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Delete", (fun _ -> Printf.printf "DELETE ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "New", (fun _ -> Printf.printf "NeW ITEM"; print_newline ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
let menu = new WX_popup.t root menu_desc
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#set_action (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let (x,y) = button#root_coordinates in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 menu#popup x y (Some !button_event)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#container_add pixmap#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#set_wait_release false;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 text#set_widgets simple_text;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; vscroll#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add (text#contained); 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add (hbar#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~

\layout Section


\family sans 
\size normal 
demo_tree.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WXlib\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Xtypes
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
open WX_tree
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root [MinWidth 10; MinHeight 10]
\layout Standard


\family typewriter 
\size small 
let tree = new WX_tree.t top#container []
\layout Standard


\family typewriter 
\size small 
let tree2 = new WX_tree.t tree#container []
\layout Standard


\family typewriter 
\size small 
let list = [ "Bonjour"; "Hello"; "Gutten tag" ]
\layout Standard


\family typewriter 
\size small 
let list2 = [ "Salut"; "Coucou"; "Hi"; "Good morning" ]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let map = List.map (fun s ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 leaf 0 (new WX_label.t tree#container s [])#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) list in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let map3 = List.map (fun s ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 leaf 0 (new WX_label.t tree#container s [])#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) list in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let map2 = List.map (fun s ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 leaf 0 (new WX_label.t tree2#container s [])#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) list2 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let map = map @ ((branch false
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (new WX_label.t tree#container "Autres" [])#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 tree2#contained) :: map3) in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 tree2#set_desc map2;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 tree#set_desc map;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add tree#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_treesel.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Xtypes
\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
open WX_tree
\layout Standard


\family typewriter 
\size small 
open Unix
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 default_background := "gray51";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 default_foreground := "white"
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let replay = ref false
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
(*********** taken from efuns/efuns/system.ml\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open Unix
\layout Standard


\family typewriter 
\size small 
open Concur
\layout Standard


\family typewriter 
\size small 
open ThreadUnix
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let open_process cmd =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let (in_read, in_write) = pipe() in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let (out_read, out_write) = pipe() in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let inchan = in_channel_of_descr in_read in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let outchan = out_channel_of_descr out_write in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 match fork() with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 0 ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if out_read <> stdin then begin
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dup2 out_read stdin; close out_read end;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if in_write <> Unix.stdout ||\SpecialChar ~
 in_write <> Unix.stderr then begin
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if in_write <> Unix.stdout then dup2 in_write stdout;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if in_write <> Unix.stderr then dup2 in_write stderr; 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 close in_write end;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 List.iter close [in_read;out_write];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 execvp cmd.(0) cmd;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 exit 127
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | pid -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Unix.close out_read;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Unix.close in_write;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (pid,inchan, outchan)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let system cmd log end_action =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let (pid,inc,outc) = open_process cmd in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let ins = Unix.descr_of_in_channel inc in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let tampon = String.create 1000 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 Thread.add_reader ins
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (function () ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 try
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let len = input inc tampon 0 1000 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if len = 0 then
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 begin
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 close_in inc;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 close_out outc;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let pid,status = try waitpid [WNOHANG] pid with _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 pid, WSTOPPED 9 in\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 begin
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 match status with 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 WEXITED s -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (try end_action () with _ -> ())
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (try end_action () with _ -> ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 log "Broken pipe" 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 end;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Thread.remove_reader ins (* Kill self *)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 end
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 else
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 log (String.sub tampon 0 len);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 e -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Printf.printf "exception";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let write str =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 output outc str 0 (String.length str);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 flush outc
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 pid,write
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
(*************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let argv = Array.to_list Sys.argv
\layout Standard


\family typewriter 
\size small 
let regexps = List.map (fun str -> str, 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Str.regexp (Utils.glob_to_regexp str)) (
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 match argv with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 program :: dirname :: strs -> strs
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | _ -> failwith "Usage: eplayer dirname")
\layout Standard


\family typewriter 
\size small 
let regexps = ["*.mp3",Str.regexp (Utils.glob_to_regexp "*.mp3")]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let dirname = ref (if Filename.is_relative Sys.argv.(1) then
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Filename.concat (Sys.getcwd ()) Sys.argv.(1) else Sys.argv.(1))
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let display = new WX_display.t ""
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.t display 0
\layout Standard


\family typewriter 
\size small 
let top = new WX_appli.t root [MinWidth 10; MinHeight 10; MaxHeight (root#height
 - 200)]
\layout Standard


\family typewriter 
\size small 
let notebook = new WX_notebook.h top#container []
\layout Standard


\family typewriter 
\size small 
let adx = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let ady = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let hbar = new WX_bar.h notebook#container []
\layout Standard


\family typewriter 
\size small 
let viewport = new WX_viewport.t hbar#container adx ady []
\layout Standard


\family typewriter 
\size small 
let scrollbar = new WX_scrollbar.v hbar#container ady []
\layout Standard


\family typewriter 
\size small 
let tree = new WX_tree.t viewport#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let current = ref 0
\layout Standard


\family typewriter 
\size small 
let stop _ = 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if !current <> 0 then 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (try 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Unix.kill !current Sys.sigkill;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let _,_ = waitpid [] !current in ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 with _ -> ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 current := 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
type file = {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file_name\SpecialChar ~
 : string;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 mutable file_played : bool;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file_label : WX_button.with_label;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let play file = 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 stop ();
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let pid, write =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 system [| "mpg123"; file.file_name |] (fun _ -> ())
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (fun _ -> current := 0)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 current := pid
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let load file =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 match !button_event with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 1 -> play file
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | 2 ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file.file_played <- not file.file_played;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file.file_label#label#configure
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (if file.file_played then 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Background "green"] else
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Background "gray51"])
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | 3 -> ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 | _ -> ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let files = ref []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let rec play_all () =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let n = ref 0 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 List.iter (fun file ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 try if file.file_played then (
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 incr n;play file) with _ -> ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ) !files;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 if !n>0 && !replay then play_all ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let add_file file = 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 files := file :: !files
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let rec iter_load closed dirname basename container =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 try
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let dirname = Filename.concat dirname basename in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let filenames = Sort.list (<=) (Utils.list_dir dirname) in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let subdirs = List.fold_left (fun files filename ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if filename <> "." && filename <> ".." then
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let fullname = Filename.concat dirname filename in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let stats = lstat fullname in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if stats.st_kind = S_DIR then filename::files else
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 files
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 else files
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) [] filenames in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let file_lists = List.fold_left (fun lists (name,regexp) ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let newlist = List.rev (List.fold_left (fun files filename ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if Str.string_match regexp filename 0 then filename :: files
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 else files
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) [] filenames) in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 match newlist with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [] -> lists
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | _ -> [name,List.rev newlist] @ lists
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) [] regexps in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (List.map (fun subdir ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_label.t container subdir [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let tree\SpecialChar ~
 = new WX_tree.t container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 tree#set_desc (iter_load true dirname subdir tree#container);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 branch true label#contained tree#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) subdirs) @ (
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 match file_lists with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [] -> []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | [name,files] ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 List.map (fun\SpecialChar ~
 filename ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_button.with_label container filename 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [IpadX 1; IpadY 1] 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let file = {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file_name = Filename.concat dirname filename;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file_label = label;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file_played = false;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 } in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 add_file file;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label#set_buttons [1;2;3];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label#set_action (fun () -> load file);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 leaf 0 label#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) (List.rev files);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 | _ ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 List.map (fun (name,files) -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_label.t container name [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let tree\SpecialChar ~
 = new WX_tree.t container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 tree#set_desc (List.map (fun filename ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_button.with_label tree#container
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 filename [IpadX 1; IpadY 1] 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let file = {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file_name = Filename.concat dirname filename;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file_label = label;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 file_played = false;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 } in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 add_file file;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label#set_buttons [1;2;3];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 label#set_action (fun () -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 load file);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 leaf 0 label#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) (List.rev files));
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 branch true label#contained tree#contained\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ) file_lists
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 )
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 with
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 _ -> []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
open WX_filesel
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let file_menu = [|
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Open", (fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let info = {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 filter = Filename.concat !dirname\SpecialChar ~
 "*";
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 current_selection= !dirname;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 predicat = (fun _ -> true);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 action = (fun s -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 tree#destroy_desc;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dirname := s;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 tree#set_desc (
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 iter_load false (Filename.dirname s) (Filename.basename s)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 tree#container));
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 cancel = (fun _ -> ());
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 }\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let filesel = new WX_filesel.t root info [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 filesel#show
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 "Quit", (fun _ -> exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 |]
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 (************************************** MIXER Stuff *)
\layout Standard


\family typewriter 
\size small 
open Unix
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
external mixer_init : file_descr -> int array = "mixer_init"
\layout Standard


\family typewriter 
\size small 
external mixer_label : int -> string * string = "mixer_label"
\layout Standard


\family typewriter 
\size small 
external get_volume : file_descr -> int -> int = "get_volume"\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
external set_volume : file_descr -> int -> int -> int = "set_volume"\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let with_mixer f =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let fd = openfile "/dev/mixer" [O_RDWR] 0 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 try let x = f fd in close fd; x with e -> close fd; raise e
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
type mixer_device = {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_id : int;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_name : string;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_label : string;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_stereo : bool;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_recorder : bool;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 }
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let devices =\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let tab = with_mixer mixer_init in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let len = Array.length tab / 3 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 Array.init len (fun i -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let name, label = mixer_label tab.(i*3) in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 {
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_id = tab.(i*3);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_name = name;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_label = label;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_stereo = tab.(i*3+1) = 1;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 dev_recorder = tab.(i*3+2) = 1;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 })
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let mixer = new WX_bar.v notebook#container []
\layout Standard


\family typewriter 
\size small 
let levels =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 Array.map (fun dev ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let bar = new WX_bar.h mixer#container [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let level = new WX_adjust.t () in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let scale = new WX_scale.h bar#container level [MinWidth 300] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let label = new WX_label.t bar#container dev.dev_name [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let value = new WX_label.t bar#container "\SpecialChar ~
\SpecialChar ~
 0 %" [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let init = ref true in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 level#add_subject (fun () ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let v = level#get_pos 100 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 value#set_string (Printf.sprintf " %3d %s" v "%");
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if not !init then
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let vol = v * 127 / 100 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let _ = with_mixer (fun fd ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let old_vol = get_volume fd dev.dev_id in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let new_vol =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 if dev.dev_stereo then
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (vol * 256 + vol)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 else
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (old_vol land 0x7f00) lor vol
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 set_volume fd dev.dev_id new_vol);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 in ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 with_mixer (fun fd ->
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 let v = (get_volume fd dev.dev_id) land 0x7f in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 level#set_pos v 128);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 init := false;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 bar#container_add_s [label#contained; scale#contained; value#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 mixer#container_add bar#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 level
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ) devices
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let set_all i =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 Array.iter (fun level -> level#set_pos i 100) levels
\layout Standard


\family typewriter 
\size small 
let silence _ = set_all 0
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 let button = new WX_button.with_label mixer#container "Silence" [] in
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 button#set_action silence;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 mixer#container_add button#contained
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 (*****************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 tree#set_desc (iter_load false (Filename.dirname Sys.argv.(1))
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 (Filename.basename Sys.argv.(1))
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 tree#container);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#configure [Bindings [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Prior,0),(fun _ -> ady#page_up);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Next,0),(fun _ -> ady#page_down);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Down,0),(fun _ -> ady#down);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Up,0),(fun _ -> ady#up);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#configure [Bindings [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_q,mod1Mask),(fun _ -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 stop ();exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_m,mod1Mask),(fun _ -> notebook#set_visible 1);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_s,mod1Mask),stop;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_0,mod1Mask),(fun _ -> set_all 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_1,mod1Mask),(fun _ -> set_all 10);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_2,mod1Mask),(fun _ -> set_all 20);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_3,mod1Mask),(fun _ -> set_all 30);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_4,mod1Mask),(fun _ -> set_all 40);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_5,mod1Mask),(fun _ -> set_all 50);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_6,mod1Mask),(fun _ -> set_all 60);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_7,mod1Mask),(fun _ -> set_all 70);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_8,mod1Mask),(fun _ -> set_all 80);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_9,mod1Mask),(fun _ -> set_all 90);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 GrabbedKey(XK.xk_p,mod1Mask), play_all;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add notebook#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 notebook#container_add_s ["MP3s", hbar#contained; "Mixer", mixer#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; scrollbar#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add tree#contained;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#setWM_NAME (Printf.sprintf "File player");
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#add_menu "File" file_menu;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#add_button "Play" (fun _ -> play_all);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#add_button "Replay" (fun button () -> 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 replay := not !replay; 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 button#configure
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ( if !replay then [Background "green"] else [Background "gray51"])
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 );
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 ady#set_inc 10;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Section


\family sans 
\size normal 
demo_viewport.ml
\layout Standard

\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ____\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Fabrice Le Fessant, projet Para/SOR, INRIA Rocquencourt\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Copyright 1999 Institut National de Recherche en Informatique et\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
 Automatique.\SpecialChar ~
 Distributed only by permission.\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(*\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 *)
\layout Standard


\family typewriter 
\size small 
(***********************************************************************)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
open WX_types
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let filename = Sys.argv.(1)
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let root = new WX_root.from_display "" 0
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let top = new WX_wmtop.t root []
\layout Standard


\family typewriter 
\size small 
let hbar = new WX_bar.h top#container []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let adx = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let ady = new WX_adjust.t ()
\layout Standard


\family typewriter 
\size small 
let viewport = new WX_viewport.t hbar#container adx ady 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [MinHeight 50; MinWidth 50;ExpandX true]
\layout Standard


\family typewriter 
\size small 
let vscroll = new WX_scrollbar.v hbar#container ady []
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~

\layout Standard


\family typewriter 
\size small 
let filetext = new WX_text.of_file viewport#container filename
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 [Relief ReliefRaised; Foreground "red"; Background "yellow"]\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
let _ =
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 hbar#container_add_s [viewport#contained; vscroll#contained];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 viewport#container_add (filetext#contained);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#container_add (hbar#contained);\SpecialChar ~
 
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#configure [Bindings [
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Prior,0),(fun _ -> ady#page_up);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_Next,0),(fun _ -> ady#page_down);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 Key(XK.xk_q,0),(fun _ -> exit 0);
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~
\SpecialChar ~
 ]];
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 top#show;
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
 loop ()
\layout Standard


\family typewriter 
\size small 
\SpecialChar ~
\SpecialChar ~

\the_end
